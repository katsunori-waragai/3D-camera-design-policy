# task design
画像認識・画像計測・機械学習は、実現しようとする内容を、どのようなタスクに分解するのかによって、
実現用の容易性が格段に変わってくる。

#### 例：検出タスクの共通化
よい実装があれば、対象物によって違う複数の検出タスクを、同時に実行する必要がなくなります。
場合１：　人物検出器（全身）と顔検出・照合ライブラリ
　人物検出自体には、顔検出をできないとすると、全てのフレームで、顔検出・照合ライブラリを呼び出さなくてはならなくなります。
場合２：頭部検出もできる人物検出器で、頭部の向きも推定できる場合
　頭部検出もできる人物検出器で、頭部の向きも推定して、顔照合可能な顔向きであったときだけ、
　顔照合ライブラリを呼び出す。
場合３：頭部検出もできる人物検出器で、頭部の向きも推定できる場合でかつ、頭部の追跡ができている場合
　追跡に成功している顔を、顔照合する頻度を減らすことができます。

使用するライブラリによって、必要なリソースが大幅に減ってきます。
　人・頭部・手検出など、利用上の価値が高い検出と属性推定を１つのモデルにまとめてあるのは、極めて有益です。

　　　　　
#### 例：ステレオ計測タスクとoptical flowのタスクの共通化
ステレオ計測タスクでは、１つのフレームでの左画像と右画像からの深度情報の推定（＝点群の座標の推定）を行う。
２つのフレーム間で、対応点の移動量を計算できれば、それはoptical flow そのものである。
自分以外のものが動いていなれば、自らの運動に起因するoptical flow の方向と大きさで、
対象物体の位置を推定できる。

これに、動いている対象物が加わったときに、
自身の動きでは説明がつかないものの動きを検出できる。
駐車場で止まっている自動車と、動いている自動車を、optical flow ベースで区別できているはずである。

LSTM(Long short-term memory) を使っているアプローチはみかけるのだが。

### 例：optical flow ベースの衝突回避の移動
画像認識系のタスクが、次の行動選択のための入力になっていることがある。
その場合、認識系のタスクと行動選択のタスクを１つにまとめて学習・最適化を実施するアプローチがある。
そうすることで、タスク間の連結が簡単になり、階層が少なくなることで遅延時間を低下させる効果も持つ。


Obstacle Detection: Zhao, Y., & Shi, Y. (2016). A novel obstacle detection method based on optical flow. In 2016 International Conference on Control, Automation, Robotics and Vision (ICARCV).

[Optical-Flow-based-Obstacle-Avoidance](https://github.com/zainmehdi/Optical-Flow-based-Obstacle-Avoidance)

#### 注意：問題の定式化としてほんとうに自身の例に対して適切なのかを疑うこと
- 見通しのよい十字型の交差点で起きる事故に対して、optical flow ベースの衝突回避の移動　は無力である。


### 自己視点画像での自分の手と対象物との理解というタスク
近年、ロボットの分野で進んできているタスクが、
自己視点画像での自分の両手と扱おうとしている対象物への理解である。

見えている対象物についてのopen vocabulary（＝限定されない言葉）での理解。
大規模言語モデルでの理解は、対象物に対して起こしうる動作の関係付けがある。
アフォーダンスという定式化がされるようになってきている。
ペットボトルをつかむという動作の選択肢が、ペットボトルという物体がトリガーになって引き起こされるという考え方である。
このとき、「ペットボトルをつかむ」、「ペットボトルのキャップを外す」、「ペットボトルの中身をカップに注ぐ」
などという動作の種類によって、手を当てる位置や、次に引き起こす動作が変わってくる。
この領域の分野は、近年研究が進んでいる分野である。

## 新規のタスクは、新規のデータ・セットを必要とする。
新規のタスクの宣言と、そのタスクの学習と評価の実験が必要になる。
これは、もはや一人の開発者でできることではなくなっている。
この分野の研究を行うためには、所属している部署でチームを組む必要がある。
チームで、その課題に対して取り組むことを決断しないと、新規のタスクに対して勝負を仕掛けることができない。

## 自前データセットの重要性
- 自社の製品・サービスに機械学習タスクを組み込む場合、評価が重要になってくる。
- 大規模言語モデルのように汎用の目的に訓練されている場合でも、 自社の製品・サービスで性能が満たしているのかどうかは、 開発者チームの責任である。
